<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographic: Từ Web Vào Thẳng Máy Ảnh Sony</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-accent: #007AFF;
            --background-light: #f5f5f7;
            --text-primary: #1d1d1f;
            --text-secondary: #6e6e73;
            --ease-apple: cubic-bezier(0.4, 0, 0.2, 1);
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-light);
            color: var(--text-primary);
        }
        .section-card {
            background-color: white;
            border-radius: 1.5rem; /* 24px */
            padding: 2rem;
            border: 1px solid #d2d2d7;
            transition: transform 0.3s var(--ease-apple), box-shadow 0.3s var(--ease-apple);
        }
        @media (min-width: 768px) {
            .section-card {
                padding: 2.5rem;
            }
        }
        .step-number {
            background: linear-gradient(135deg, #0077ff, #0058d6);
            color: white;
            border-radius: 9999px;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.125rem;
            flex-shrink: 0;
        }
        .path-text {
            color: var(--text-secondary);
            background-color: #f5f5f7;
            padding: 0.25rem 0.75rem;
            border-radius: 0.5rem;
            font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.8rem;
            border: 1px solid #e5e5e5;
        }
        .param-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 0.75rem;
        }
        .param-item {
            background: #f5f5f7;
            padding: 0.75rem;
            border-radius: 0.75rem;
        }
        .param-key {
            font-size: 0.8rem;
            color: #8a8a8e;
            font-weight: 500;
        }
        .param-value {
            font-weight: 700;
            font-size: 1.125rem;
            color: var(--text-primary);
            margin-top: 0.125rem;
        }
        /* Lightbox styles */
        #lightbox {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s var(--ease-apple);
        }
        #lightbox.visible { display: flex; opacity: 1; }
        #lightbox-image {
            max-width: 90vw;
            max-height: 90vh;
            border-radius: 1rem;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
            transform: scale(0.95);
            opacity: 0;
            transition: transform 0.3s var(--ease-apple), opacity 0.3s var(--ease-apple);
        }
        #lightbox.visible #lightbox-image { transform: scale(1); opacity: 1; }
        #lightbox-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            color: rgba(255,255,255,0.7);
            background-color: rgba(0,0,0,0.3);
            border-radius: 9999px;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
        }
        #lightbox-close:hover { background-color: rgba(0,0,0,0.5); color: white; }
        
        .photo-collage {
            display: grid;
            gap: 0.5rem;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(2, 1fr);
            aspect-ratio: 4 / 3;
        }
        .photo-collage img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: transform 0.3s var(--ease-apple);
        }
        .photo-collage img:hover {
            transform: scale(1.05);
        }
        .photo-collage .main-image {
            grid-column: 1 / 2;
            grid-row: 1 / 3;
        }
        .recipe-section-title {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--text-primary);
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e5e5e5;
            margin-bottom: 1rem;
        }

        /* AI Assistant Styles */
        #ai-assistant-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            background: linear-gradient(135deg, #4285F4, #9B59B6, #F4B400, #0F9D58);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            cursor: pointer;
            transition: transform 0.3s var(--ease-apple);
        }
        #ai-assistant-btn:hover {
            transform: scale(1.1);
        }
        #ai-chat-modal {
            position: fixed;
            inset: 0;
            background-color: rgba(0,0,0,0.4);
            backdrop-filter: blur(4px);
            z-index: 9998;
            display: none;
            opacity: 0;
            transition: opacity 0.3s var(--ease-apple);
        }
        #ai-chat-modal.visible {
            display: flex;
            opacity: 1;
        }
        .chat-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: calc(100% - 4rem);
            max-width: 400px;
            max-height: 60vh;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            transform: translateY(20px) scale(0.95);
            opacity: 0;
            transition: transform 0.3s var(--ease-apple), opacity 0.3s var(--ease-apple);
        }
        #ai-chat-modal.visible .chat-container {
            transform: translateY(0) scale(1);
            opacity: 1;
        }
        .chat-header {
            padding: 1rem;
            border-bottom: 1px solid #e5e5e5;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        #chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .chat-bubble {
            padding: 0.75rem 1rem;
            border-radius: 1.125rem;
            max-width: 80%;
            line-height: 1.5;
        }
        .ai-bubble {
            background-color: #f0f0f0;
            color: #333;
            border-bottom-left-radius: 0.25rem;
            align-self: flex-start;
        }
        .user-bubble {
            background-color: var(--primary-accent);
            color: white;
            border-bottom-right-radius: 0.25rem;
            align-self: flex-end;
        }
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .typing-indicator span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #ccc;
            animation: typing 1s infinite;
        }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
        #chat-form {
            padding: 1rem;
            border-top: 1px solid #e5e5e5;
            display: flex;
            gap: 0.5rem;
        }
        #chat-input {
            flex-grow: 1;
            border: 1px solid #ccc;
            border-radius: 9999px;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }
        #chat-input:focus {
            outline: none;
            border-color: var(--primary-accent);
            box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.2);
        }
        #chat-submit {
            background-color: var(--primary-accent);
            color: white;
            border: none;
            border-radius: 50%;
            width: 2.25rem;
            height: 2.25rem;
            flex-shrink: 0;
            cursor: pointer;
        }

    </style>
</head>
<body class="p-4 sm:p-8 md:p-12">

    <main class="max-w-3xl mx-auto space-y-12">
        
        <!-- Header -->
        <header class="text-center">
             <img src="https://raw.githubusercontent.com/thaikpham/color-lab-flyer/main/logo.png" alt="Sony Color Lab Logo" class="h-10 sm:h-12 mx-auto mb-6">
            <h1 class="text-4xl sm:text-5xl font-bold tracking-tight text-gray-900 mb-4" style="text-wrap: balance;">Từ Web Vào Thẳng Máy Ảnh</h1>
            <p class="text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto">Hướng dẫn từng bước để cài đặt công thức màu cho máy ảnh Sony Alpha của bạn.</p>
        </header>

        <!-- Steps -->
        <div class="space-y-8">
            <!-- BƯỚC 1: NHẬP THÔNG SỐ -->
            <div class="section-card">
                <div class="flex items-start gap-4">
                    <div class="step-number">1</div>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900">Nhập thông số</h2>
                        <p class="text-gray-600 mt-1">Sử dụng menu của máy ảnh để cài đặt hai thông số chính.</p>
                    </div>
                </div>
                <div class="mt-8 space-y-6 pl-4 border-l-2 border-gray-100 ml-5">
                    <div>
                        <h3 class="font-semibold text-lg">Cân Bằng Trắng (WB)</h4>
                        <p class="text-sm text-gray-500 mt-1">Tinh chỉnh nhiệt độ màu và sắc thái cho bức ảnh.</p>
                        <div class="mt-2"><span class="path-text">Menu → White Balance → Tinh chỉnh</span></div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-lg">Hồ Sơ Màu (Picture Profile)</h4>
                        <p class="text-sm text-gray-500 mt-1">Áp dụng các công thức màu sắc và dải tương phản động.</p>
                        <div class="mt-2"><span class="path-text">Menu → Picture Profile → Chọn & Nhập</span></div>
                    </div>
                </div>
            </div>

            <!-- BƯỚC 2: DEMO -->
            <div class="section-card">
                 <div class="flex items-start gap-4">
                    <div class="step-number">2</div>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900">Thử nghiệm Công thức</h2>
                        <p class="text-gray-600 mt-1">Chưa biết bắt đầu từ đâu? Hãy thử nhập các thông số từ những công thức phổ biến này.</p>
                    </div>
                </div>
                <div class="mt-8 space-y-12">
                    <!-- Demo Card 1: SCL-01 -->
                    <div>
                        <div class="photo-collage mb-6">
                            <img src="https://lh3.googleusercontent.com/pw/AP1GczPC_ounREkB_Q6oj6ZM7ckVGcKKZ_saJP5O63nURHPk09iTI8l4YwSqUzyxJm8ZG760nUJhm5JgmMWyk4uGlDDaaWwjJJPO4E9IAoF1pNfMHqx-2g3OcDS2COZ1w93K8j16X08W24leuMEhZvXx6L4uyw=w736-h1105-s-no?authuser=0" alt="Tone màu film Mojave Sun 1" class="demo-image main-image" style="object-position: 50% 30%;">
                            <img src="https://lh3.googleusercontent.com/pw/AP1GczPPT3oBJKObBMX8NEdTxe-PLC2BEd0eRGUMSUiYxocel93ljDNFyG58LJiiPhijnKyWkjJbkSim54sWvSLrRxeM22uF82BlckublQ4qsSic7gwhAVe-XX0jEzRuxDJG7j25PHU6tLUGIT0IRHjy_AvXuQ=w1658-h1105-s-no?authuser=0" alt="Tone màu film Mojave Sun 2" class="demo-image">
                            <img src="https://lh3.googleusercontent.com/pw/AP1GczPwAttTxhJ89lhQ4Lbp9Klq73D30WWsG21oDGzsTZ9ig_5IYa3hLxdsQnMIb-8xJF-SOUMsNjaoGm-1RbfHrcRDn8lrLR7krn4ubwBkoe7fKqWes36h-8T05_EvDvJiHM04HZYdZzSkJ_4O2y7yhyXc3A=w1658-h1105-s-no?authuser=0" alt="Tone màu film Mojave Sun 3" class="demo-image">
                        </div>
                        <h3 class="text-2xl font-bold">SCL-01: Mojave Sun</h3>
                        <p class="text-gray-600 mb-6">Tone film hoài niệm, màu vàng ấm, hoàn hảo cho du lịch và đời sống.</p>
                        <div class="space-y-6">
                             <div>
                                <h4 class="recipe-section-title">White Balance</h4>
                                <div class="param-item w-full"><div class="param-key">WB</div><div class="param-value">7000K, B3-M1.5</div></div>
                             </div>
                             <div>
                                <h4 class="recipe-section-title">Picture Profile</h4>
                                <div class="param-grid">
                                    <div class="param-item"><div class="param-key">Black level</div><div class="param-value">-7</div></div>
                                    <div class="param-item"><div class="param-key">Gamma</div><div class="param-value">Cine1</div></div>
                                    <div class="param-item"><div class="param-key">Black Gamma</div><div class="param-value">Wide +5</div></div>
                                    <div class="param-item"><div class="param-key">Knee</div><div class="param-value">Manual 75% +2</div></div>
                                    <div class="param-item"><div class="param-key">Color Mode</div><div class="param-value">S-Gamut3</div></div>
                                    <div class="param-item"><div class="param-key">Saturation</div><div class="param-value">+25</div></div>
                                    <div class="param-item"><div class="param-key">Color Phase</div><div class="param-value">+1</div></div>
                                </div>
                             </div>
                             <div>
                                <h4 class="recipe-section-title">Color Depth</h4>
                                <div class="param-grid grid-cols-3 sm:grid-cols-6">
                                    <div class="param-item"><div class="param-key">R</div><div class="param-value">-1</div></div>
                                    <div class="param-item"><div class="param-key">G</div><div class="param-value">+1</div></div>
                                    <div class="param-item"><div class="param-key">B</div><div class="param-value">+5</div></div>
                                    <div class="param-item"><div class="param-key">C</div><div class="param-value">+4</div></div>
                                    <div class="param-item"><div class="param-key">M</div><div class="param-value">-2</div></div>
                                    <div class="param-item"><div class="param-key">Y</div><div class="param-value">+2</div></div>
                                </div>
                             </div>
                             <div>
                                <h4 class="recipe-section-title">Detail</h4>
                                <div class="param-grid grid-cols-1"><div class="param-item"><div class="param-key">Level</div><div class="param-value">0</div></div></div>
                             </div>
                        </div>
                    </div>
                     <hr class="border-gray-100 my-10">
                    <!-- Demo Card 2: SCL-27 -->
                    <div>
                         <div class="photo-collage mb-6">
                            <img src="https://lh3.googleusercontent.com/pw/AP1GczO2Zg9sIDNNb_6VjMP87b8-ADz04gPG7sMtACcq_icK4VBnyfX9HqCuj_KINNrJsAB9vtZWX-PWQlJWvD5UwVIsgqDz599aVKQWPdi7K_MeSKuWCSwe9paPaQ9AF7EWHRtg3y6xo_4YRiXkXAxfIxvpag=w745-h1077-s-no?authuser=0" alt="Tone da trắng hồng 1" class="demo-image main-image" style="object-position: center top;">
                            <img src="https://lh3.googleusercontent.com/pw/AP1GczOC-qpjrL5DZLDDthLjrZKkl33JawDpyrBkMpIb-DjDkRIIu-ckWc__TVlzpOWZDarQTeZabCeaBAOtGnAM3L-AbrvBOFO1W5UIZh_jIZzuZdjsaNKKErVQOy7Mj8U4GoY86tFCRvoCEa4LeDMwH4VHxw=w726-h1077-s-no?authuser=0" alt="Tone da trắng hồng 2" class="demo-image" style="object-position: center top;">
                            <img src="https://lh3.googleusercontent.com/pw/AP1GczOnrW6HdG4jtEA_qoxJz25-5LUNZfJj4lk2Re-mDcRf5N0oXBSuI2nPnDSJeCS5hOl4A8nrjHromBkarVpKdh8f7PXeNxRvH4Vq_6ATKGo1KAGs68xM66zMriiWDgmmMn4xLjhZn2WsAwQK4jsGFQp6qQ=w718-h1077-s-no?authuser=0" alt="Tone da trắng hồng 3" class="demo-image" style="object-position: center top;">
                         </div>
                        <h3 class="text-2xl font-bold">SCL-27: Daylight Cinema</h3>
                        <p class="text-gray-600 mb-6">Tone da trắng hồng, trong trẻo, hiện đại. Dành cho điều kiện ánh sáng ban ngày.</p>
                         <div class="space-y-6">
                           <div>
                                <h4 class="recipe-section-title">White Balance</h4>
                                <div class="param-item w-full"><div class="param-key">WB</div><div class="param-value">3700K, A5-M1.5</div></div>
                             </div>
                             <div>
                                <h4 class="recipe-section-title">Picture Profile</h4>
                                <div class="param-grid">
                                    <div class="param-item"><div class="param-key">Black level</div><div class="param-value">-9</div></div>
                                    <div class="param-item"><div class="param-key">Gamma</div><div class="param-value">S-Cinetone</div></div>
                                    <div class="param-item"><div class="param-key">Black Gamma</div><div class="param-value">Narrow -7</div></div>
                                    <div class="param-item"><div class="param-key">Knee</div><div class="param-value">Manual 75% +5</div></div>
                                    <div class="param-item"><div class="param-key">Color Mode</div><div class="param-value">S-Cinetone</div></div>
                                    <div class="param-item"><div class="param-key">Saturation</div><div class="param-value">+25</div></div>
                                    <div class="param-item"><div class="param-key">Color Phase</div><div class="param-value">0</div></div>
                                </div>
                             </div>
                             <div>
                                <h4 class="recipe-section-title">Color Depth</h4>
                                <div class="param-grid grid-cols-3 sm:grid-cols-6">
                                    <div class="param-item"><div class="param-key">R</div><div class="param-value">-1</div></div>
                                    <div class="param-item"><div class="param-key">G</div><div class="param-value">+3</div></div>
                                    <div class="param-item"><div class="param-key">B</div><div class="param-value">+2</div></div>
                                    <div class="param-item"><div class="param-key">C</div><div class="param-value">+2</div></div>
                                    <div class="param-item"><div class="param-key">M</div><div class="param-value">-3</div></div>
                                    <div class="param-item"><div class="param-key">Y</div><div class="param-value">-3</div></div>
                                </div>
                             </div>
                             <div>
                                <h4 class="recipe-section-title">Detail</h4>
                                <div class="param-grid grid-cols-1"><div class="param-item"><div class="param-key">Level</div><div class="param-value">0</div></div></div>
                             </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- BƯỚC 3: LƯU & GỌI LẠI -->
             <div class="section-card">
                <div class="flex items-start gap-4">
                    <div class="step-number">3</div>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900">Lưu & Gọi Lại Công Thức</h2>
                        <p class="text-gray-600 mt-1">Lưu lại cài đặt để tiện sử dụng và truy cập nhanh sau này.</p>
                    </div>
                </div>
                <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-6">
                    <div>
                        <h3 class="font-semibold text-lg">Lưu Công Thức</h4>
                        <p class="text-sm text-gray-500 mt-1 mb-3">Giao diện có thể khác nhau tùy đời máy.</p>
                        <div class="space-y-3">
                             <div class="bg-gray-50 p-3 rounded-lg border">
                                <h4 class="font-semibold text-sm text-center">MENU MỚI</h4>
                                <p class="text-xs text-gray-500 text-center mb-2">A7IV, A7SIII, FX3...</p>
                                <span class="path-text block text-center">Shooting → Camera Set. Memory</span>
                            </div>
                            <div class="bg-gray-50 p-3 rounded-lg border">
                                <h4 class="font-semibold text-sm text-center">MENU CŨ</h4>
                                <p class="text-xs text-gray-500 text-center mb-2">A7III, A6400...</p>
                                <span class="path-text block text-center">Camera 1 (P7) → Memory</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-lg">Gọi Lại & Sử Dụng</h4>
                        <p class="text-sm text-gray-500 mt-1 mb-3">Truy cập nhanh trên vòng xoay chế độ.</p>
                        <div class="space-y-3">
                            <div class="bg-gray-50 p-3 rounded-lg border">
                                <h4 class="font-semibold text-sm">Lưu trên máy (1, 2, 3)</h4>
                                <p class="text-xs text-gray-500">Xoay thẳng vòng xoay đến số tương ứng.</p>
                            </div>
                            <div class="bg-gray-50 p-3 rounded-lg border">
                                <h4 class="font-semibold text-sm">Lưu trên thẻ (M1-M4)</h4>
                                <p class="text-xs text-gray-500">Xoay đến <span class="font-bold">MR</span> và chọn bộ nhớ.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        
        <!-- Footer -->
        <footer class="text-center mt-16 pt-8 border-t border-gray-200">
            <p class="text-gray-500 text-sm">Nguồn & Công thức màu: <a href="https://sonycolorlab.app" target="_blank" class="font-semibold text-blue-600 hover:text-blue-500">sonycolorlab.app</a></p>
        </footer>

    </main>

    <!-- Lightbox Structure -->
    <div id="lightbox">
        <span id="lightbox-close">&times;</span>
        <img id="lightbox-image" src="" alt="Xem ảnh lớn">
    </div>

    <!-- AI Assistant -->
    <button id="ai-assistant-btn" aria-label="Open AI Assistant">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 text-white"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
    </button>

    <div id="ai-chat-modal">
        <div class="chat-container">
            <div class="chat-header">
                <h3 class="font-bold text-lg">Trợ lý AI</h3>
                <button id="close-chat-btn" class="text-2xl text-gray-400 hover:text-gray-800">&times;</button>
            </div>
            <div id="chat-messages">
                <div class="chat-bubble ai-bubble">
                    Chào bạn! Tôi có thể giúp gì về việc cài đặt công thức màu?
                </div>
            </div>
            <form id="chat-form">
                <input type="text" id="chat-input" placeholder="Nhập câu hỏi của bạn..." autocomplete="off">
                <button type="submit" id="chat-submit" aria-label="Send Message">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
                </button>
            </form>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Lightbox Logic
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const lightboxClose = document.getElementById('lightbox-close');

            document.querySelectorAll('.demo-image').forEach(image => {
                image.addEventListener('click', () => {
                    lightboxImage.src = image.src;
                    lightbox.style.display = 'flex';
                    setTimeout(() => lightbox.classList.add('visible'), 10);
                });
            });

            function closeLightbox() {
                lightbox.classList.remove('visible');
                 setTimeout(() => { lightbox.style.display = 'none'; }, 300);
            }

            lightboxClose.addEventListener('click', closeLightbox);
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) closeLightbox();
            });
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeLightbox();
            });

            // AI Assistant Logic
            const aiBtn = document.getElementById('ai-assistant-btn');
            const chatModal = document.getElementById('ai-chat-modal');
            const closeChatBtn = document.getElementById('close-chat-btn');
            const chatForm = document.getElementById('chat-form');
            const chatInput = document.getElementById('chat-input');
            const chatMessages = document.getElementById('chat-messages');

            function openAiChat() {
                chatModal.style.display = 'flex';
                setTimeout(() => chatModal.classList.add('visible'), 10);
            }

            function closeAiChat() {
                chatModal.classList.remove('visible');
                setTimeout(() => { chatModal.style.display = 'none'; }, 300);
            }

            aiBtn.addEventListener('click', openAiChat);
            closeChatBtn.addEventListener('click', closeAiChat);
            chatModal.addEventListener('click', (e) => {
                if (e.target === chatModal) closeAiChat();
            });

            chatForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const userInput = chatInput.value.trim();
                if (!userInput) return;

                addMessageToChat(userInput, 'user');
                chatInput.value = '';
                
                showTypingIndicator();

                setTimeout(() => {
                    const aiResponse = getMockAiResponse(userInput);
                    hideTypingIndicator();
                    addMessageToChat(aiResponse, 'ai');
                }, 1500);
            });

            function addMessageToChat(text, sender) {
                const bubble = document.createElement('div');
                bubble.classList.add('chat-bubble', sender === 'user' ? 'user-bubble' : 'ai-bubble');
                bubble.textContent = text;
                chatMessages.appendChild(bubble);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            function showTypingIndicator() {
                const indicator = document.createElement('div');
                indicator.id = 'typing-indicator';
                indicator.classList.add('chat-bubble', 'ai-bubble', 'typing-indicator');
                indicator.innerHTML = `<span></span><span></span><span></span>`;
                chatMessages.appendChild(indicator);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
             function hideTypingIndicator() {
                const indicator = document.getElementById('typing-indicator');
                if(indicator) indicator.remove();
            }

            function getMockAiResponse(input) {
                const lowerInput = input.toLowerCase();
                if (lowerInput.includes('gamma') || lowerInput.includes('cine') || lowerInput.includes('cinetone')) {
                    return "Gamma là đường cong tương phản, quyết định 'chất' của ảnh. Cine1 và S-Cinetone cho cảm giác điện ảnh, trong khi S-Log2/3 giữ lại nhiều chi tiết nhất để hậu kỳ.";
                }
                if (lowerInput.includes('color depth') || lowerInput.includes('màu') || lowerInput.includes('depth')) {
                    return "Color Depth là công cụ mạnh nhất để chỉnh màu. Nó giúp bạn tăng/giảm độ sáng của từng màu riêng lẻ (Đỏ, Lục, Lam, Cyan, Magenta, Vàng) để đạt được sắc thái chính xác bạn muốn.";
                }
                if (lowerInput.includes('lưu') || lowerInput.includes('save') || lowerInput.includes('memory')) {
                    return "Để lưu công thức, bạn vào Menu -> Shooting (tab màu hồng) -> Shooting Mode -> Camera Set. Memory. Sau đó chọn vị trí 1, 2, 3 (trên vòng xoay) hoặc M1-M4 (trên thẻ nhớ) để lưu.";
                }
                return "Cảm ơn câu hỏi của bạn! Tôi vẫn đang trong giai đoạn học hỏi và sẽ sớm có câu trả lời chi tiết hơn. Trong lúc này, bạn có thể tham khảo các thông số chi tiết trên trang nhé.";
            }

        });
    </script>

</body>
</html>

